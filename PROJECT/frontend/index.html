<!DOCTYPE html>
<html>
<head>
<title>Crime Exposure Risk Checker</title>

<style>
body {
    font-family: Arial;
    background: #f4f6f8;
    padding: 30px;
}
.container {
    max-width: 600px;
    background: white;
    padding: 25px;
    margin: auto;
    border-radius: 8px;
}
button {
    width: 100%;
    padding: 10px;
    background: #1976d2;
    color: white;
    border: none;
}
</style>
</head>

<body>

<div class="container">
<h2>Crime Exposure Risk Checker</h2>

<label>City</label>
<input id="city" value="Delhi"><br><br>

<label>Crime</label>
<select id="crime">
<option>Theft</option>
<option>Robbery</option>
<option>Assault</option>
<option>Rape</option>
<option>Murder</option>
<option>CyberCrime</option>
</select><br><br>

<label>Gender</label>
<select id="gender">
<option>male</option>
<option>female</option>
<option>others</option>
</select><br><br>

<label>Fatal Status</label>
<select id="fatal_status">
<option>non-fatal</option>
<option>fatal</option>
</select><br><br>

<label>Case Status</label>
<select id="case_status">
<option>pending</option>
<option>closed</option>
</select><br><br>

<button onclick="checkRisk()">Check Risk</button>

<div id="result"></div>
</div>

<script>
function checkRisk() {
    fetch("http://127.0.0.1:5000/calculate", {
        method: "POST",
        headers: {"Content-Type": "application/json"},
        body: JSON.stringify({
            city: city.value,
            crime: crime.value,
            gender: gender.value,
            fatal_status: fatal_status.value,
            case_status: case_status.value
        })
    })
    .then(r => r.json())
    .then(r => {
        result.innerHTML = `
        <p><b>Risk:</b> ${r.exposure_risk_percent}% (${r.risk_level})</p>
        <ul>${r.precautions.map(p => `<li>${p}</li>`).join("")}</ul>
        <p>${r.disclaimer}</p>
        `;
    });
}
</script>

</body>
</html>
